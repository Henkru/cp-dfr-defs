#!/bin/sh
set -eu

libs=(
"acledit"
"aclui"
"activeds"
"adsldpc"
"advapi32"
"advpack"
"apphelp"
"appmgmts"
"appmgr"
"asycfilt"
"atl"
"atmlib"
"audiosrv"
"authz"
"avicap32"
"avifil32"
"avrt"
"azroles"
"basesrv"
"batmeter"
"bcrypt"
"bcryptprimitives"
"bluetoothapis"
"bootvid"
"bthci"
"cabinet"
"cabview"
"catsrv"
"catsrvut"
"certcli"
"cfgbkend"
"cfgmgr32"
"clbcatq"
"clfsw32"
"cliconfg"
"clusapi"
"cmcfg32"
"cmdial32"
"cmpbk32"
"cmutil"
"cnvfat"
"colbact"
"comctl32"
"comdlg32"
"compstui"
"computecore"
"computenetwork"
"computestorage"
"comres"
"comsnap"
"comsvcs"
"comuid"
"connect"
"console"
"coremessaging"
"credui"
"crypt32"
"cryptbase"
"cryptdlg"
"cryptext"
"cryptnet"
"cryptsp"
"cryptsvc"
"cryptui"
"cryptxml"
"cscapi"
"cscui"
"csrsrv"
"d2d1"
"d3d10"
"d3d11"
"d3d12"
"d3d8thk"
"d3d9"
"d3dcompiler_47"
"davclnt"
"dbgeng"
"dbghelp"
"dbnetlib"
"dbnmpntw"
"dciman32"
"dcomp"
"ddraw"
"devmgr"
"devobj"
"devrtl"
"dhcpcsvc"
"dhcpcsvc6"
"dhcpsapi"
"diagnosticdataquery"
"dimsroam"
"dinput"
"dinput8"
"directml"
"dismapi"
"dmdskmgr"
"dmutil"
"dmvdsitf"
"dnsapi"
"dnsrslvr"
"dpapi"
"dpnaddr"
"dpnet"
"dpnhupnp"
"dpnlobby"
"drprov"
"dsauth"
"dskquota"
"dsound"
"dsprop"
"dsquery"
"dssec"
"dssenh"
"dsuiext"
"duser"
"dwmapi"
"dwrite"
"dxcore"
"dxgi"
"dxva2"
"eappcfg"
"eappgnui"
"eapphost"
"eappprxy"
"efsadu"
"es"
"esent"
"esentprf"
"evr"
"faultrep"
"fdeploy"
"feclient"
"filemgmt"
"fltlib"
"fmifs"
"fontsub"
"framedyn"
"fwpuclnt"
"gdi32"
"gdiplus"
"getuname"
"glmf32"
"glu32"
"gpedit"
"gptext"
"hal"
"hbaapi"
"hid"
"hlink"
"hnetcfg"
"hotplug"
"hrtfapo"
"httpapi"
"htui"
"iashlpr"
"iaspolcy"
"iassam"
"iassvcs"
"icm32"
"icmp"
"icmui"
"icu"
"iedkcs32"
"iernonce"
"iesetup"
"imagehlp"
"imgutil"
"imm32"
"inetcomm"
"inetmib1"
"inkobjcore"
"input"
"inseng"
"iphlpapi"
"ipnathlp"
"iprtprio"
"iprtrmgr"
"ipsecsvc"
"iscsidsc"
"iyuv_32"
"jsproxy"
"kdcom"
"kerberos"
"kernel32"
"keymgr"
"ksuser"
"ktmw32"
"linkinfo"
"loadperf"
"localspl"
"locationapi"
"loghours"
"lpk"
"lsasrv"
"lz32"
"mapi32"
"mapistub"
"mciavi32"
"mcicda"
"mciqtz32"
"mciseq"
"mciwave"
"mdminst"
"mf"
"mf3216"
"mfc42"
"mfc42u"
"mfcore"
"mfplat"
"mfplay"
"mfreadwrite"
"mfsensorgroup"
"mgmtapi"
"mi"
"midimap"
"mlang"
"mmdevapi"
"modemui"
"mpr"
"mprapi"
"mprddm"
"mprmsg"
"msacm32"
"msafd"
"msasn1"
"mscat32"
"mscms"
"msctfmonitor"
"msdadiag"
"msdart"
"msdmo"
"msdrm"
"msdtclog"
"msdtcprx"
"msdtctm"
"msdtcuiu"
"msftedit"
"mshtml"
"msi"
"msimg32"
"msimtf"
"msisip"
"msls31"
"msoert2"
"mspatcha"
"msports"
"msrating"
"msrle32"
"mssign32"
"mssip32"
"mstask"
"msutb"
"msv1_0"
"msvcirt"
"msvcp60"
"msvcrt"
"msvfw32"
"msvidc32"
"mswsock"
"msxml6"
"msyuv"
"mtxclu"
"mtxdm"
"mtxex"
"mtxoci"
"mydocs"
"ncobjapi"
"ncrypt"
"nddeapi"
"ndfapi"
"netapi32"
"netcfgx"
"netid"
"netlogon"
"netman"
"netplwiz"
"netshell"
"newdev"
"ninput"
"normaliz"
"nshipsec"
"ntdll"
"ntdsapi"
"ntlanman"
"ntmarta"
"ntprint"
"ntshrui"
"ntvdm64"
"occache"
"odbc32"
"odbcbcp"
"odbcconf"
"odbccp32"
"odbccr32"
"odbccu32"
"odbctrac"
"ole32"
"oleacc"
"oleaut32"
"oledlg"
"opengl32"
"osuninst"
"pautoenr"
"pcwum"
"pdh"
"perfdisk"
"perfnet"
"perfos"
"perfproc"
"perfts"
"photowiz"
"polstore"
"powrprof"
"printui"
"prntvpt"
"propsys"
"psapi"
"pstorec"
"qmgr"
"quartz"
"query"
"qwave"
"rasadhlp"
"rasapi32"
"rasauto"
"raschap"
"rasctrs"
"rasdlg"
"rasman"
"rasmans"
"rasmontr"
"rasppp"
"rastapi"
"rastls"
"rdpcfgex"
"regapi"
"regsvc"
"resutils"
"riched20"
"rnr20"
"rometadata"
"rpchttp"
"rpcns4"
"rpcrt4"
"rpcss"
"rsaenh"
"rstrtmgr"
"rtm"
"rtutils"
"samlib"
"samsrv"
"scarddlg"
"scecli"
"scesrv"
"schannel"
"schedsvc"
"scrobj"
"scrrun"
"sdhcinst"
"seclogon"
"secur32"
"security"
"sens"
"sensapi"
"sensorsapi"
"serialui"
"serwvdrv"
"setupapi"
"sfc"
"sfc_os"
"shcore"
"shdocvw"
"shell32"
"shfolder"
"shimeng"
"shimgvw"
"shlwapi"
"shsvcs"
"slc"
"slcext"
"slwga"
"snmpapi"
"softpub"
"spoolss"
"sqlsrv32"
"srclient"
"srrstr"
"srvsvc"
"ssdpapi"
"sspicli"
"sti"
"sti_ci"
"storprop"
"streamci"
"sxs"
"syssetup"
"t2embed"
"tapi32"
"tapiperf"
"taskschd"
"tbs"
"tcpmib"
"tdh"
"traffic"
"tsbyuv"
"txfw32"
"ucrtbase"
"udhisapi"
"ufat"
"uiautomationcore"
"umdmxfrm"
"umpnpmgr"
"unimdmat"
"uniplat"
"untfs"
"upnp"
"url"
"urlmon"
"user32"
"userenv"
"usp10"
"uxtheme"
"vdsutil"
"verifier"
"version"
"virtdisk"
"vssapi"
"w32time"
"w32topl"
"wdigest"
"wdscore"
"webauthn"
"webcheck"
"webclnt"
"webservices"
"websocket"
"wecapi"
"wer"
"wevtapi"
"wevtfwd"
"wiadss"
"wiarpc"
"wiaservc"
"wiashext"
"wimgapi"
"winbrand"
"windows.ai.machinelearning"
"windows.data.pdf"
"windows.networking"
"windowscodecs"
"winhttp"
"winhvemulation"
"winhvplatform"
"wininet"
"winipsec"
"winmm"
"winrnr"
"winscard"
"winsrv"
"winsta"
"wintrust"
"winusb"
"wkssvc"
"wlanapi"
"wlanui"
"wlanutil"
"wldap32"
"wmi"
"wmiprop"
"wofutil"
"wow64"
"wow64cpu"
"wow64win"
"wpd_ci"
"ws2help"
"ws2_32"
"wscapi"
"wscsvc"
"wsdapi"
"wshbth"
"wslapi"
"wsmsvc"
"wsock32"
"wtsapi32"
"xaudio2_8"
"xaudio2_9"
"xinput1_4"
"xinput9_1_0"
"xinputuap"
"xmllite"
)

./cf-remap-mingw.sh ntdll kernel32 user32 > ../dfr_tiny.spec
./cf-remap-mingw.sh ntdll kernel32 user32 ws2_32 winhttp wininet ole32 rpcrt4 psapi > ../dfr_comprehensive.spec
./cf-remap-mingw.sh "${libs[@]}" > ../dfr_windows.spec

mkdir -p ../libs
for i in "${libs[@]}"; do
  ./cf-remap-mingw.sh "$i" > "../libs/lib$i.spec"
done

